# μIR及其对应功能模块

* **μIR0、1** ：RAM读写控制信号
* **μIR2、3** ：后继微地址形成模块
* **μIR4、5** ：操作数控制模块
* **μIR6、7、8** ：Bus总线写入许可
* **μIR9、10、11** ：脉冲控制信号

# RAM读写控制信号

| 读写控制  | μIR1 | μIR0 |
| --------- | ---- | ---- |
| 备用      | 0    | 0    |
| RAM写信号 | 0    | 1    |
| RAM读信号 | 1    | 0    |

# 后继微地址形成模块

| 功能简述 | μIR3 | μIR2 |
| -------- | ---- | ---- |
| μPC+1    | 0    | 0    |
| JP       | 0    | 1    |
| QJP      | 1    | 0    |
| HALT     | 1    | 1    |

# 操作数控制模块

| 管脚 | μIR5             | μIR4             |
| ---- | ---------------- | ---------------- |
| 功能 | IR2、3位输出(Ri) | IR0、1位输出(Rj) |

# Bus总线写入许可

| 功能简述 | μIR8 | μIR7 | μIR6 |
| -------- | ---- | ---- | ---- |
| 备用     | 0    | 0    | 0    |
| PCo      | 0    | 0    | 1    |
| MDRo     | 0    | 1    | 0    |
| ALUo     | 0    | 1    | 1    |
| Rmo      | 1    | 0    | 0    |
| REGo     | 1    | 0    | 1    |
| μPCo     | 1    | 1    | 0    |
| IR[0:1]o | 1    | 1    | 1    |

# 脉冲信号控制模块

| 功能简述 | μIR11 | μIR10 | μIR9 |
| -------- | ----- | ----- | ---- |
| CPALU    | 0     | 0     | 0    |
| CPY      | 0     | 0     | 1    |
| CPIR     | 0     | 1     | 0    |
| CPMAR    | 0     | 1     | 1    |
| CPREG    | 1     | 0     | 0    |
| CPMDR    | 1     | 0     | 1    |
| CPPC     | 1     | 1     | 0    |
| 备用     | 1     | 1     | 1    |

# 操作数设计

## 4位操作码

| 操作码（4位） | Ri（2位） | Rj\|寻址方式（2位） |
| ------------- | --------- | ------------------- |

* 操作码

| 操作码对应指令 | 操作码（4位） | 入口 |
| -------------- | ------------- | ---- |
| 备用           | 0000          |      |
| ADD            | 0001          | 10H  |
| LOAD           | 0010          | 20H  |
| STORE          | 0011          | 30H  |
| MULTI          | 0101          | 50H  |
| HALT           | 0110          | 60H  |

* 寄存器选择

| 寄存器 | 操作码 |
| ------ | ------ |
| R0     | 00     |
| R1     | 01     |
| R2     | 10     |
| (FF)   | 11     |

* 寻址方式

| 寻址方式 | IR1  | IR0  |
| -------- | ---- | ---- |
| 间接寻址 | 0    | 0    |
| 直接寻址 | 0    | 1    |
| 立即数   | 1    | 0    |
|          |      |      |

